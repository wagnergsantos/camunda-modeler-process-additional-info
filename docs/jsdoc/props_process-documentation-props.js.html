<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>props/process-documentation-props.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ProcessDocumentationPropertiesProvider.html">ProcessDocumentationPropertiesProvider</a><ul class='members'><li data-type='member' style='display: none;'><a href="ProcessDocumentationPropertiesProvider.html#.$inject">$inject</a></li><li data-type='member' style='display: none;'><a href="ProcessDocumentationPropertiesProvider.html#.$inject">$inject</a></li></ul></li><li></li><li><a href="module.exports_module.exports.html">exports</a></li><li></li></ul><h3>Global</h3><ul><li><a href="global.html#ActivityFieldsetProps">ActivityFieldsetProps</a></li><li><a href="global.html#BpmnFactory">BpmnFactory</a></li><li><a href="global.html#Bpmnjs">Bpmnjs</a></li><li><a href="global.html#CamundaProperties">CamundaProperties</a></li><li><a href="global.html#CamundaProperty">CamundaProperty</a></li><li><a href="global.html#CombinedEntryProps">CombinedEntryProps</a></li><li><a href="global.html#CombinedInputRadioEntryProps">CombinedInputRadioEntryProps</a></li><li><a href="global.html#CurrentSituationGroup">CurrentSituationGroup</a></li><li><a href="global.html#DateFieldConfig">DateFieldConfig</a></li><li><a href="global.html#Element">Element</a></li><li><a href="global.html#ElementRegistry">ElementRegistry</a></li><li><a href="global.html#EntryConfig">EntryConfig</a></li><li><a href="global.html#EntryOption">EntryOption</a></li><li><a href="global.html#EventBus">EventBus</a></li><li><a href="global.html#ExtensionElements">ExtensionElements</a></li><li><a href="global.html#GenericDateFieldEntry">GenericDateFieldEntry</a></li><li><a href="global.html#GenericMultiRadioButtonEntry">GenericMultiRadioButtonEntry</a></li><li><a href="global.html#GenericMultiSelectEntry">GenericMultiSelectEntry</a></li><li><a href="global.html#GenericRadioEntry">GenericRadioEntry</a></li><li><a href="global.html#GenericSelectEntry">GenericSelectEntry</a></li><li><a href="global.html#GenericTextAreaEntry">GenericTextAreaEntry</a></li><li><a href="global.html#GenericTextFieldEntry">GenericTextFieldEntry</a></li><li><a href="global.html#GroupsProcessor">GroupsProcessor</a></li><li><a href="global.html#IndicatorGroupConfig">IndicatorGroupConfig</a></li><li><a href="global.html#IndicatorProperty">IndicatorProperty</a></li><li><a href="global.html#IndicatorPropertyOptions">IndicatorPropertyOptions</a></li><li><a href="global.html#IndicatorsGroup">IndicatorsGroup</a></li><li><a href="global.html#Injector">Injector</a></li><li><a href="global.html#MappingMetadataGroup">MappingMetadataGroup</a></li><li><a href="global.html#ModdleElement">ModdleElement</a></li><li><a href="global.html#Modeling">Modeling</a></li><li><a href="global.html#ModelingService">ModelingService</a></li><li><a href="global.html#MultiSelectEntryProps">MultiSelectEntryProps</a></li><li><a href="global.html#ProcessDocumentationGroup">ProcessDocumentationGroup</a></li><li><a href="global.html#PropertiesPanel">PropertiesPanel</a></li><li><a href="global.html#PropertiesPanelTab">PropertiesPanelTab</a></li><li><a href="global.html#PropertyGroup">PropertyGroup</a></li><li><a href="global.html#PropertyItem">PropertyItem</a></li><li><a href="global.html#PropertyItemConfig">PropertyItemConfig</a></li><li><a href="global.html#RadioEntryProps">RadioEntryProps</a></li><li><a href="global.html#RadioOption">RadioOption</a></li><li><a href="global.html#SelectOption">SelectOption</a></li><li><a href="global.html#TextFieldConfig">TextFieldConfig</a></li><li><a href="global.html#Translate">Translate</a></li><li><a href="global.html#createCamundaProperties">createCamundaProperties</a></li><li><a href="global.html#createElement">createElement</a></li><li><a href="global.html#createExtensionElements">createExtensionElements</a></li><li><a href="global.html#createIndicatorProperty">createIndicatorProperty</a></li><li><a href="global.html#ensureCamundaProperties">ensureCamundaProperties</a></li><li><a href="global.html#findDefinitionsElement">findDefinitionsElement</a></li><li><a href="global.html#findExtensions">findExtensions</a></li><li><a href="global.html#findProcessElement">findProcessElement</a></li><li><a href="global.html#getCamundaProperties">getCamundaProperties</a></li><li><a href="global.html#getDefinitions">getDefinitions</a></li><li><a href="global.html#getDefinitionsElement">getDefinitionsElement</a></li><li><a href="global.html#getExtensionElements">getExtensionElements</a></li><li><a href="global.html#getFixedProperty">getFixedProperty</a></li><li><a href="global.html#getGroups">getGroups</a></li><li><a href="global.html#getIndicatorIds">getIndicatorIds</a></li><li><a href="global.html#getIndicatorPropertyProps">getIndicatorPropertyProps</a></li><li><a href="global.html#getProcessRef">getProcessRef</a></li><li><a href="global.html#getTabs">getTabs</a></li><li><a href="global.html#isIndicatorProperty">isIndicatorProperty</a></li><li><a href="global.html#parseIndicatorProperty">parseIndicatorProperty</a></li><li><a href="global.html#parseIndicatorPropertyValue">parseIndicatorPropertyValue</a></li><li><a href="global.html#setFixedProperty">setFixedProperty</a></li><li><a href="global.html#shouldRemoveProperty">shouldRemoveProperty</a></li><li><a href="global.html#updateIndicatorProperty">updateIndicatorProperty</a></li><li><a href="global.html#validateOsNumber">validateOsNumber</a></li><li><a href="global.html#validateProcessCode">validateProcessCode</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">props/process-documentation-props.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { Group } from '@bpmn-io/properties-panel';
import {
  GenericTextFieldEntry,
  GenericTextAreaEntry,
  GenericRadioEntry,
  GenericMultiSelectEntry,
  GenericMultiRadioButtonEntry
} from './generic-entries';

/**
 * @typedef {Object} ModdleElement Representa um elemento no modelo BPMN subjacente.
 * @see {@link https://github.com/bpmn-io/bpmn-js/blob/develop/lib/model/Types.js}
 */

/**
 * @typedef {Object} Injector O injetor de dependências do Camunda Modeler.
 */

/**
 * @typedef {Object} PropertyGroup
 * @property {string} id - O ID único do grupo.
 * @property {string} label - O rótulo do grupo exibido na interface.
 * @property {Array&lt;Object>} [entries] - Uma lista de entradas de propriedade para o grupo.
 * @property {Function} [component] - O componente React/Preact para renderizar o grupo.
 * @property {Array} [groups] - Subgrupos, se aplicável (usado em abas).
 */

/**
 * Valida o formato do código do processo.
 * C1: formato C1.Nxx.PAIxxxxx ou C1.Nxx.PTBxxxxx
 * C2: formato C2.Nxx.Mxx.PAIxxxxx ou C2.Nxx.Mxx.PTBxxxxx
 * 
 * @param {string} code - Código do processo a ser validado
 * @returns {string|null} Mensagem de erro ou null se válido
 */
function validateProcessCode(code) {
  if (!code) return null; // Permite campo vazio

  // Padrões de validação
  const c1Pattern = /^C1\.N\d{2}\.(PAI|PTB)\d{5}$/;
  const c2Pattern = /^C2\.N\d{2}\.M\d{2}\.(PAI|PTB)\d{5}$/;

  if (code.startsWith('C1')) {
    if (!c1Pattern.test(code)) {
      return 'Formato inválido para C1. Use o padrão: C1.Nxx.PAIxxxxx ou C1.Nxx.PTBxxxxx';
    }
  } else if (code.startsWith('C2')) {
    if (!c2Pattern.test(code)) {
      return 'Formato inválido para C2. Use o padrão: C2.Nxx.Mxx.PAIxxxxx ou C2.Nxx.Mxx.PTBxxxxx';
    }
  } else {
    return 'O código deve começar com C1 ou C2';
  }

  return null; // Código válido
}

/**
 * Cria o grupo de propriedades "Documentação do Processo" para o painel de propriedades.
 * Este grupo só é exibido para elementos do tipo 'bpmn:Definitions'.
 * 
 * @param {ModdleElement} element - Elemento BPMN ao qual as propriedades pertencem.
 * @param {Injector} injector - Injetor de dependências do Camunda Modeler.
 * @returns {PropertyGroup|null} Grupo de propriedades configurado para o painel, ou null se não aplicável.
 */
export function ProcessDocumentationGroup(element, injector) {
  const translate = injector.get('translate');

  if (!element || element.$type !== 'bpmn:Definitions') {
    return null;
  }

  /**
   * Lista de entradas (fields) exibidas no grupo "Documentação do Processo".
   * Cada entrada representa um campo ou conjunto de campos relacionados.
   * @type {Array&lt;Object>}
   */
  const entries = [
    // Código do Processo
    {
      id: 'process-code',
      component: props => GenericTextFieldEntry({
        ...props,
        element,
        id: 'process-code',
        propertyName: 'processo:documentacao:codigo',
        label: 'Código do Processo',
        validate: validateProcessCode,
        tooltip: translate(
          'Formato esperado:\n' +
          'Para C1: C1.Nxx.PAIxxxxx ou C1.Nxx.PTBxxxxx\n' +
          'Para C2: C2.Nxx.Mxx.PAIxxxxx ou C2.Nxx.Mxx.PTBxxxxx\n' +
          'Onde x são números'
        )
      })
    },
    // Nome do Processo
    {
      id: 'process-name',
      component: props => GenericTextFieldEntry({
        ...props,
        element,
        id: 'process-name',
        propertyName: 'processo:documentacao:nome',
        label: 'Nome do Processo'
      })
    },
    // Entrada do processo (Insumo)
    {
      id: 'definitions-prop-entrada',
      component: props => GenericTextFieldEntry({
        ...props,
        element,
        id: 'definitions-prop-entrada',
        propertyName: 'processo:documentacao:entradaInsumo',
        label: 'Entrada do processo (Insumo)'
      })
    },
    // Fornecedores (área de texto)
    {
      id: 'definitions-prop-fornecedores',
      component: props => GenericTextAreaEntry({
        ...props,
        element,
        id: 'definitions-prop-fornecedores',
        propertyName: 'processo:documentacao:fornecedores',
        label: 'Fornecedores'
      })
    },
    // Objetivo do Processo
    {
      id: 'process-objective',
      component: props => GenericTextFieldEntry({
        ...props,
        element,
        id: 'process-objective',
        propertyName: 'processo:documentacao:objetivo',
        label: 'Objetivo do Processo'
      })
    },
    // Saída do processo (Resultado / Produto)
    {
      id: 'definitions-prop-saida',
      component: props => GenericTextFieldEntry({
        ...props,
        element,
        id: 'definitions-prop-saida',
        propertyName: 'processo:documentacao:saidaResultado',
        label: 'Saída do processo (Resultado / Produto)'
      })
    },
    // Clientes (área de texto)
    {
      id: 'definitions-prop-clientes',
      component: props => GenericTextAreaEntry({
        ...props,
        element,
        id: 'definitions-prop-clientes',
        propertyName: 'processo:documentacao:clientes',
        label: 'Clientes'
      })
    },
    // Interface com outros processos (área de texto)
    {
      id: 'definitions-prop-interface',
      component: props => GenericTextAreaEntry({
        ...props,
        element,
        id: 'definitions-prop-interface',
        propertyName: 'processo:documentacao:interfaceProcessos',
        label: 'Interface com outros processos',
        tooltip: translate('Liste os processos que fornecem entradas para este ou recebem saídas deste.')
      })
    },
    // Principais regras de negócio do processo (área de texto)
    {
      id: 'definitions-prop-regras',
      component: props => GenericTextAreaEntry({
        ...props,
        element,
        id: 'definitions-prop-regras',
        propertyName: 'processo:documentacao:regrasNegocio',
        label: 'Principais regras de negócio do processo'
      })
    },
    // Dono do processo (Área)
    {
      id: 'definitions-prop-donoArea',
      component: props => GenericTextFieldEntry({
        ...props,
        element,
        id: 'definitions-prop-donoArea',
        propertyName: 'processo:documentacao:donoProcessoArea',
        label: 'Dono do processo (Área)'
      })
    },
    // Dono do processo (Gestor(a))
    {
      id: 'definitions-prop-donoGestor',
      component: props => GenericTextFieldEntry({
        ...props,
        element,
        id: 'definitions-prop-donoGestor',
        propertyName: 'processo:documentacao:donoProcessoGestor',
        label: 'Dono do processo (Gestor(a))'
      })
    },
    // Atores envolvidos (área de texto)
    {
      id: 'definitions-prop-atores',
      component: props => GenericTextAreaEntry({
        ...props,
        element,
        id: 'definitions-prop-atores',
        propertyName: 'processo:documentacao:atoresEnvolvidos',
        label: 'Atores envolvidos'
      })
    },
    // Sistemas utilizados (área de texto)
    {
      id: 'definitions-prop-sistemas',
      component: props => GenericTextAreaEntry({
        ...props,
        element,
        id: 'definitions-prop-sistemas',
        propertyName: 'processo:documentacao:sistemasUtilizados',
        label: 'Sistemas utilizados'
      })
    },
    // Legislação / Normativos aplicáveis (área de texto)
    {
      id: 'definitions-prop-legislacao',
      component: props => GenericTextAreaEntry({
        ...props,
        element,
        id: 'definitions-prop-legislacao',
        propertyName: 'processo:documentacao:legislacaoNormativos',
        label: 'Legislação / Normativos aplicáveis'
      })
    },
    // Análise Preliminar
    {
      id: 'definitions-prop-analisePreliminar',
      component: props => GenericMultiRadioButtonEntry({
        ...props,
        element,
        id: 'definitions-prop-analisePreliminar',
        propertyName: 'processo:documentacao:analisePreliminar',
        label: 'Necessidades identificadas no mapeamento dos processos',
        options: [
          { value: 'alinhamento-estrategico', label: 'Análise de alinhamento estratégico' },
          { value: 'melhorias-processo', label: 'Análise de melhorias em processos e sistemas' },
          { value: 'capacidade-rh', label: 'Análise da capacidade de recursos humanos' },
          { value: 'simulacao', label: 'Avaliar possibilidade para simulação de processos' },
          { value: 'melhorias-rapidas', label: 'Avaliar possibilidade para melhorias rápidas' },
          { value: 'automatizacao', label: 'Avaliar possibilidade de Automatização de processos' }
        ]
      })
    }
  ];

  return {
    id: 'process-documentation',
    label: translate('Documentação do Processo'),
    component: Group,
    entries
  };
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Thu May 29 2025 16:48:54 GMT-0300 (Horário Padrão de Brasília) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
